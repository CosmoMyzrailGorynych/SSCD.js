<!DOCTYPE HTML>
<html lang="en">

<head>

	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<title>SSCD - Tilemap</title>

	<script src="../dist/dev/sscd.dev.js"></script>
	<script src="maze.js"></script>
	
</head>

<body style="padding:0; margin:0; overflow: hidden;">

	<!-- main canvas we render on -->
	<canvas id="mainCanvas" class="main" width="1280" height="1024" style="padding:0; margin:0; z-index:1000; position:fixed;"></canvas>
	
	<!-- example info -->
	<div style="position:fixed; z-index: 1000">
		<h1 style="position:fixed; left:10px; top:10px; color:#555;">SSCD - Tilemap</h1>
		<p style="position:fixed; left:10px; top:60px; color:#555; font-size:160%">
		This example shows the usage of the tilemap world type; a special collision world designed for tile-based 2d games.
		</p>
	</div>
	
	<script>
	
		// get canvas and 2d context
		var canvas = document.getElementById("mainCanvas");
		var ctx = canvas.getContext('2d');
	
		// resize canvas to fit fullscreen
		function resizeCanvas() {
			canvas.width = window.innerWidth;
			canvas.height = window.innerHeight;
		}
		window.addEventListener('resize', resizeCanvas, false);
		resizeCanvas();

		// create a tilemap collision world with tile size of 128x128
		var world = new SSCD.TilemapWorld(128);
		
		// create random maze and set it
		var map = create_maze(100, 100);
		world.set_from_matrix(map);
		
		// create a random level
		var tiles = [];
		for (var i = 0; i < 500; ++i)
		{
			tiles.push([]);
			for (var j = 0; j < 500; ++j)
			{
				tiles[i].push(1);
			}
		}
		
		// main loop that will render objects
		setInterval(function ()
		{
			// clear canvas
			ctx.clearRect(0, 0, canvas.width, canvas.height);
			
			// render collision world
			world.render(canvas);
			
		}, 1000/60);
		
	</script>

</body>

</html>

